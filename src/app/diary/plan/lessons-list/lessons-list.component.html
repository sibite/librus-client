<div class="events-container ui offset">
  <app-event
    *ngFor="let event of getEvents()"
    [event]="event"
    (click)="showEventDetails($event, event)">
    <!-- <div class="entry-caption">
      <span class="entry-header">{{ event.Name || eventKindNames[event.Kind] }}</span>
      <ng-container *ngIf="event.Kind == 'TeacherFreeDays'">
        <br>
        <span class="entry-sub">{{ event.Teacher.FirstName }} {{ event.Teacher.LastName }}</span>
        <br>
        <span class="entry-sub">{{ event | timerange:'Cały dzień' }}</span>
      </ng-container>
      <ng-container *ngIf="event.Kind == 'ClassFreeDays'">
        <br>
        <span class="entry-sub">{{ event.Type.Name }}</span>
        <br>
        <span class="entry-sub">{{ event | timerange:'Cały dzień' }}</span>
      </ng-container>
      <ng-container *ngIf="event.Kind == 'ParentTeacherConferences'">
        <br>
        <span class="entry-sub">{{ event.Time.substr(0, 5) }}</span>
        <br>
        <span class="entry-sub">Sala: {{ event.Room }}</span>
      </ng-container>
    </div> -->
  </app-event>
  <span class="no-events-text" *ngIf="getEvents().length == 0">Brak wydarzeń</span>
</div>
<div
  class="plan-container"
  [style.--day-range-from]="dayStartRange"
  [style.--day-range-to]="dayEndRange">
  <div class="time-tags-container">
    <div *ngFor="let tag of timeTags">{{ tag }}</div>
    <div class="now-bar" [style.--minutes]="minutes"></div>
  </div>
  <div class="lessons-container" #lessonsContainer>
    <ng-container  *ngFor="let rangeLessons of timetable; let rangeIndex = index">
      <div
        class="range-block"
        *ngIf="rangeLessons.length > 0"
        [style.--range-from]="lessonsRange[rangeIndex]?.RawFrom"
        [style.--range-to]="lessonsRange[rangeIndex]?.RawTo">
        <app-lesson
          *ngFor="let lesson of rangeLessons"
          (click)="showLessonDetails($event, lesson)"
          [lesson]="lesson"
          [color]="subjectColors[lesson.Subject.Id]"
          [range]="lessonsRange[lesson.LessonNo]">
        </app-lesson>
        <app-homework
          *ngFor="let homework of getHomeworks(rangeIndex)"
          [homework]="homework"
          (click)="showEventDetails($event, homework)"
          appClickEffect></app-homework>
      </div>
    </ng-container>
  </div>
</div>
